#!/usr/bin/env bash

OB="ocamlbuild -use-ocamlfind -classic-display"
# check that files are compilable
$OB src/Controller.cmx

# generate required .cpp and .h files
cd _build # we are donig this in the _build dir to prevent sanitize errors
ocamlfind opt -dsource -package lablqml -ppx "ppx_qt -destdir ../src/ -ext c" -c \
    src/Controller.ml
